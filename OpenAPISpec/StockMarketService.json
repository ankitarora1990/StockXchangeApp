{
   "openapi":"3.0.1",
   "info":{
      "title":"Stock Market API",
      "version":"v1"
   },
   "paths":{
      "/api/stock-market/buy":{
         "post":{
            "tags":[
               "StockMarket"
            ],
            "requestBody":{
               "content":{
                  "application/json-patch+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "text/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "application/*+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"Success"
               }
            }
         }
      },
      "/api/stock-market/sell":{
         "post":{
            "tags":[
               "StockMarket"
            ],
            "requestBody":{
               "content":{
                  "application/json-patch+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "text/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  },
                  "application/*+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TradeRequest"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"Success"
               }
            }
         }
      },
      "/api/stock-market/{customerEmail}/trade-history":{
         "get":{
            "tags":[
               "StockMarket"
            ],
            "parameters":[
               {
                  "name":"customerEmail",
                  "in":"path",
                  "required":true,
                  "schema":{
                     "type":"string"
                  }
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "content":{
                     "text/plain":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/TradeDetail"
                           }
                        }
                     },
                     "application/json":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/TradeDetail"
                           }
                        }
                     },
                     "text/json":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/TradeDetail"
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/api/triggers":{
         "get":{
            "tags":[
               "Trigger"
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "content":{
                     "text/plain":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/Trigger"
                           }
                        }
                     },
                     "application/json":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/Trigger"
                           }
                        }
                     },
                     "text/json":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "$ref":"#/components/schemas/Trigger"
                           }
                        }
                     }
                  }
               }
            }
         },
         "post":{
            "tags":[
               "Trigger"
            ],
            "requestBody":{
               "content":{
                  "application/json-patch+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "text/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "application/*+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"Success"
               }
            }
         },
         "put":{
            "tags":[
               "Trigger"
            ],
            "requestBody":{
               "content":{
                  "application/json-patch+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "text/json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  },
                  "application/*+json":{
                     "schema":{
                        "$ref":"#/components/schemas/TriggerRequest"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"Success"
               }
            }
         }
      },
      "/api/triggers/{triggerId}":{
         "get":{
            "tags":[
               "Trigger"
            ],
            "parameters":[
               {
                  "name":"triggerId",
                  "in":"path",
                  "required":true,
                  "schema":{
                     "type":"integer",
                     "format":"int32"
                  }
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "content":{
                     "text/plain":{
                        "schema":{
                           "$ref":"#/components/schemas/Trigger"
                        }
                     },
                     "application/json":{
                        "schema":{
                           "$ref":"#/components/schemas/Trigger"
                        }
                     },
                     "text/json":{
                        "schema":{
                           "$ref":"#/components/schemas/Trigger"
                        }
                     }
                  }
               }
            }
         },
         "delete":{
            "tags":[
               "Trigger"
            ],
            "parameters":[
               {
                  "name":"triggerId",
                  "in":"path",
                  "required":true,
                  "schema":{
                     "type":"integer",
                     "format":"int32"
                  }
               }
            ],
            "responses":{
               "200":{
                  "description":"Success"
               }
            }
         }
      }
   },
   "components":{
      "schemas":{
         "TradeDetail":{
            "type":"object",
            "properties":{
               "StockCode":{
                  "type":"string",
                  "nullable":true
               },
               "Count":{
                  "type":"integer",
                  "format":"int32"
               },
               "CommittedPrice":{
                  "type":"number",
                  "format":"double"
               },
               "TradeType":{
                  "$ref":"#/components/schemas/TradeType"
               },
               "FulfilledTimeStamp":{
                  "type":"string",
                  "format":"date-time"
               }
            },
            "additionalProperties":false
         },
         "TradeRequest":{
            "type":"object",
            "properties":{
               "CustomerEmail":{
                  "type":"string",
                  "nullable":true
               },
               "StockCode":{
                  "type":"string",
                  "nullable":true
               },
               "Count":{
                  "type":"integer",
                  "format":"int32"
               },
               "SuggestedPrice":{
                  "type":"number",
                  "format":"double"
               },
               "TradeType":{
                  "$ref":"#/components/schemas/TradeType"
               }
            },
            "additionalProperties":false
         },
         "TradeType":{
            "enum":[
               1,
               2
            ],
            "type":"integer",
            "format":"int32"
         },
         "Trigger":{
            "type":"object",
            "properties":{
               "TriggerId":{
                  "type":"integer",
                  "format":"int32",
                  "nullable":true
               },
               "StockCode":{
                  "type":"string",
                  "nullable":true
               },
               "Count":{
                  "type":"integer",
                  "format":"int32"
               },
               "RequestedPrice":{
                  "type":"number",
                  "format":"double"
               },
               "TradeType":{
                  "$ref":"#/components/schemas/TradeType"
               },
               "RequestedTimeStamp":{
                  "type":"string",
                  "format":"date-time"
               },
               "IsActive":{
                  "type":"boolean"
               }
            },
            "additionalProperties":false
         },
         "TriggerRequest":{
            "type":"object",
            "properties":{
               "CustomerEmail":{
                  "type":"string",
                  "nullable":true
               },
               "Trigger":{
                  "$ref":"#/components/schemas/Trigger"
               }
            },
            "additionalProperties":false
         }
      }
   }
}